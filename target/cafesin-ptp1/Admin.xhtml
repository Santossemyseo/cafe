<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>

        <link rel="shorcut icon" href="img/cafe.ico"></link>
        <script src="js/admin.js"></script>
        <title>Admin</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous"></link>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.3/font/bootstrap-icons.css"></link>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css"></link>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"></link>
        <link rel="stylesheet" href="css/menu.css"></link>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    </h:head>
    <h:body id="body-pd">
        <header class="header" id="header">
            <div class="header_toggle"> </div>
            <div> <img src="img/logo.jpg" width="100px" alt="aca va"></img> </div>
        </header>
        <div class="l-navbar" id="nav-bar">
            <nav class="nav">
                <div> <a href="#" class="nav_logo"> <i class='bx bx-menu' id="header-toggle" style="color:white;"></i></a>
                    <div class="nav_list">
                        <a href="Admin.xhtml" class="nav_link active"><i class="bi bi-controller"></i><span class="nav_name">Admin</span> </a> 
                        <a href="Inventarios.xhtml" class="nav_link"><i class="bi bi-box2"></i> <span class="nav_name">Inventario</span> </a> 
                        <a href="Ventas.xhtml" class="nav_link"><i class="bi bi-cash-coin"></i><span class="nav_name">Ventas</span> </a> 
                        <a href="Users.xhtml" class="nav_link"><i class="bi bi-person-fill"></i><span class="nav_name">Usuarios</span> </a>
                        <a href="Program.xhtml" class="nav_link"><i class="bi bi-pc-display"></i><span class="nav_name">Program</span> </a>
                    </div>
                </div> <a href="index.xhtml" class="nav_link"><i class='bx bx-log-out nav_icon'></i><span class="nav_name">Cerrar sesi√≥n</span></a>
            </nav>
        </div>
        <!-- inicio contenido -->
        <div class="container">
            <div class="row">
                <div class="col-6 col-md-6 display-12 py-20 bg-muted">
                    <div class="table-responsive">
                        <h:dataTable class="table table-striped table-hover" value="#{ventasBean.findAll()}" var="prd">
                            <h:column><f:facet name="header">producto</f:facet><p>#{prd.nombreProducto}</p></h:column>
                            <h:column>
                                <select class="custom-select custom-select-sm">
                                    <option selected="">cantidad</option>
                                    <option value="1">One</option>
                                    <option value="2">Two</option>
                                    <option value="3">Three</option>
                                </select><f:facet name="header">cantidad</f:facet><p>#{prd.cantidad}</p></h:column>
                            <h:column><f:facet name="header">Opciones</f:facet>
                                <h:form>
                                    <h:commandButton action="#{ventasBean.buy()}" value="Eliminar" class="btn btn-outline-danger"></h:commandButton>
                                    <h:commandButton action="#{user.update(col)}" value="Actualizar"  class="btn btn-outline-primary"></h:commandButton>
                                </h:form>
                            </h:column>
                        </h:dataTable>
                    </div>
                </div>
                <div class="col-12 col-md-6">
                    <div class="card card-body mt-3">
                        <h3>Carrito</h3>
                        <h:dataTable class="table table-striped table-hover" value="#{ventasBean.car}" var="p">
                            <h:column>
                                <h:outputText value="#{p.producId.nombreProducto}"/>
                            </h:column>
                            <h:column>
                                <h:outputText value="#{p.cantidad}"/>
                            </h:column>
                        </h:dataTable>
                        <h3>Total: $ #{ventasBean.totalbuy}</h3>
                    </div>
                    <div class="card card-body mt-3">
                        <h3>Datos del cliente</h3>
                        <h:form>
                            <div class="row">
                                <div class="col-12 col-md-6">
                                    <div class="form-floating">
                                        <h:inputText value="#{ventasBean.vnt.venCliNum.tipoDocumentoCliente}" class="form-control" a:placeholder="Tipo de documento"/>
                                        <label>Tipo de documento</label>
                                    </div>
                                </div>
                                <div class="col-12 col-md-6">
                                    <div class="form-floating">
                                        <h:inputText value="#{ventasBean.vnt.venCliNum.numDocumentoCliente}" class="form-control" a:placeholder="Numero de documento"/>
                                        <label>Numero de documento</label>
                                    </div>
                                </div>
                                <div class="col-12 mt-3">
                                    <div class="form-floating">
                                        <h:inputText value="#{ventasBean.vnt.venCliNum.nombreCliente}" class="form-control" a:placeholder="Nombre"/>
                                        <label>Nombre</label>
                                    </div>
                                    <h:commandButton action="#{ventasBean.buy()}" class="btn btn-outline-success mt-3" value="Comprar"></h:commandButton>
                                </div>
                            </div>
                        </h:form>
                    </div>
                </div>
                
            </div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.min.js" integrity="sha384-IDwe1+LCz02ROU9k972gdyvl+AESN10+x7tBKgc9I5HFtuNz0wWnPclzo6p9vxnk" crossorigin="anonymous"></script>
        <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <c:if test="#{messagesController.titulo != null}">
            <script>
                swal.fire("#{messagesController.titulo}", "#{messagesController.descripcion}", "#{messagesController.icono}");
            </script>
        </c:if>
    </h:body>
</html>
